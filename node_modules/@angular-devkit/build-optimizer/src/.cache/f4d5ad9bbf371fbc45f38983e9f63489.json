{"remainingRequest":"C:\\Users\\Zac\\Desktop\\2018courses\\sentinel\\Sentinel\\WebApplication\\FrontEnd\\ngx-admin-master\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Zac\\Desktop\\2018courses\\sentinel\\Sentinel\\WebApplication\\FrontEnd\\ngx-admin-master\\node_modules\\ng2-completer\\services\\completer-base-data.js","dependencies":[{"path":"C:\\Users\\Zac\\Desktop\\2018courses\\sentinel\\Sentinel\\WebApplication\\FrontEnd\\ngx-admin-master\\node_modules\\ng2-completer\\services\\completer-base-data.js","mtime":1504220465000},{"path":"C:\\Users\\Zac\\Desktop\\2018courses\\sentinel\\Sentinel\\WebApplication\\FrontEnd\\ngx-admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1527928412363},{"path":"C:\\Users\\Zac\\Desktop\\2018courses\\sentinel\\Sentinel\\WebApplication\\FrontEnd\\ngx-admin-master\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1525376550000}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { isNil } from \"../globals\";\r\nvar CompleterBaseData = /*@__PURE__*/ (function (_super) {\r\n    __extends(CompleterBaseData, _super);\r\n    function CompleterBaseData() {\r\n        return _super.call(this) || this;\r\n    }\r\n    CompleterBaseData.prototype.cancel = function () { };\r\n    CompleterBaseData.prototype.searchFields = function (searchFields) {\r\n        this._searchFields = searchFields;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.titleField = function (titleField) {\r\n        this._titleField = titleField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.descriptionField = function (descriptionField) {\r\n        this._descriptionField = descriptionField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.imageField = function (imageField) {\r\n        this._imageField = imageField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.convertToItem = function (data) {\r\n        var image = null;\r\n        var formattedText;\r\n        var formattedDesc = null;\r\n        if (this._titleField) {\r\n            formattedText = this.extractTitle(data);\r\n        }\r\n        else {\r\n            formattedText = data;\r\n        }\r\n        if (typeof formattedText !== \"string\") {\r\n            formattedText = JSON.stringify(formattedText);\r\n        }\r\n        if (this._descriptionField) {\r\n            formattedDesc = this.extractValue(data, this._descriptionField);\r\n        }\r\n        if (this._imageField) {\r\n            image = this.extractValue(data, this._imageField);\r\n        }\r\n        if (isNil(formattedText)) {\r\n            return null;\r\n        }\r\n        return {\r\n            title: formattedText,\r\n            description: formattedDesc,\r\n            image: image,\r\n            originalObject: data\r\n        };\r\n    };\r\n    CompleterBaseData.prototype.extractMatches = function (data, term) {\r\n        var _this = this;\r\n        var matches = [];\r\n        var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\r\n        if (this._searchFields !== null && this._searchFields !== undefined && term != \"\") {\r\n            matches = data.filter(function (item) {\r\n                var values = searchFields ? searchFields.map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; }) : [item];\r\n                return values.some(function (value) { return value.toString().toLowerCase().indexOf(term.toString().toLowerCase()) >= 0; });\r\n            });\r\n        }\r\n        else {\r\n            matches = data;\r\n        }\r\n        return matches;\r\n    };\r\n    CompleterBaseData.prototype.extractTitle = function (item) {\r\n        var _this = this;\r\n        // split title fields and run extractValue for each and join with ' '\r\n        return this._titleField.split(\",\")\r\n            .map(function (field) {\r\n            return _this.extractValue(item, field);\r\n        })\r\n            .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\r\n    };\r\n    CompleterBaseData.prototype.extractValue = function (obj, key) {\r\n        var keys;\r\n        var result;\r\n        if (key) {\r\n            keys = key.split(\".\");\r\n            result = obj;\r\n            for (var i = 0; i < keys.length; i++) {\r\n                if (result) {\r\n                    result = result[keys[i]];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            result = obj;\r\n        }\r\n        return result;\r\n    };\r\n    CompleterBaseData.prototype.processResults = function (matches) {\r\n        var i;\r\n        var results = [];\r\n        if (matches && matches.length > 0) {\r\n            for (i = 0; i < matches.length; i++) {\r\n                var item = this.convertToItem(matches[i]);\r\n                if (item) {\r\n                    results.push(item);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    return CompleterBaseData;\r\n}(Subject));\r\nexport { CompleterBaseData };\r\n//# sourceMappingURL=completer-base-data.js.map\r\n",null]}